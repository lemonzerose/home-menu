<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家用餐桌點餐</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: sans-serif; margin: 0; display: flex; height: 100vh; background: #fff; overflow: hidden; }
        .sidebar { width: 100px; background: #f7f7f7; border-right: 1px solid #eee; flex-shrink: 0; }
        .tab { padding: 25px 10px; font-size: 14px; text-align: center; color: #888; cursor: pointer; border-bottom: 1px solid #eee; }
        .tab.active { background: white; color: #ff6b6b; font-weight: bold; border-left: 4px solid #ff6b6b; }
        .main { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 100px; }
        /* 預設讓所有 item 隱藏，由 JS 控制顯示 */
        .item { display: none; background: #fff; border: 1.5px solid #eee; border-radius: 12px; padding: 20px; margin-bottom: 15px; cursor: pointer; }
        .item.selected { border: 2.5px solid #ff6b6b; background: #fff9f9; }
        .item-name { font-weight: bold; font-size: 18px; color: #333; }
        .footer { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 1px solid #eee; padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 -5px 15px rgba(0,0,0,0.05); }
        .btn { background: #ff6b6b; color: white; border: none; padding: 12px 35px; border-radius: 25px; font-weight: bold; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="tab active" onclick="switchTab(this, 'staple')">主食</div>
        <div class="tab" onclick="switchTab(this, 'chicken')">雞肉料理</div>
        <div class="tab" onclick="switchTab(this, 'pork')">豬肉料理</div>
        <div class="tab" onclick="switchTab(this, 'soup')">暖暖的湯</div>
        <div class="tab" onclick="switchTab(this, 'other')">其他</div>
    </div>

    <div class="main">
        <div class="item staple" onclick="toggle(this, '白飯')">
            <div class="item-name">白飯</div>
        </div>
        
        <div class="item pork" onclick="toggle(this, '紅燒肉')">
            <div class="item-name">紅燒肉</div>
        </div>

        <div class="item soup" onclick="toggle(this, '番茄豆腐湯')">
            <div class="item-name">番茄豆腐湯</div>
        </div>

        <div class="item chicken" onclick="toggle(this, '蔥油雞')">
            <div class="item-name">蔥油雞</div>
        </div>
    </div>

    <div class="footer">
        <div id="status">尚未選餐</div>
        <button class="btn" onclick="send()">選好了！送出</button>
    </div>

    <form id="real-form" action="https://docs.google.com/forms/d/e/1FAIpQLScIDnligkbqZMobxv-Yuu7-QKWjoPTgfi3pFeaqawR1XK1xEw/formResponse" method="POST" style="display:none;">
        <input type="hidden" name="entry.998899607" id="food-data">
    </form>

    <script>
        let selected = new Set();

        // 1. 切換分類的功能
        function switchTab(el, category) {
            // 切換左側按鈕顏色
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');

            // 根據 class 顯示或隱藏菜色
            const items = document.querySelectorAll('.item');
            items.forEach(item => {
                if (item.classList.contains(category)) {
                    item.style.display = 'block'; // 符合分類就顯示
                } else {
                    item.style.display = 'none';  // 不符合就藏起來
                }
            });
        }

        // 2. 點選菜色功能
        function toggle(el, name) {
            el.classList.toggle('selected');
            selected.has(name) ? selected.delete(name) : selected.add(name);
            document.getElementById('status').innerText = selected.size > 0 ? `已選 ${selected.size} 道` : '尚未選餐';
        }

        // 3. 送出功能
        function send() {
            if (selected.size === 0) return alert('請先選菜！');
            const resultText = Array.from(selected).join('、');
            document.getElementById('food-data').value = resultText;
            alert('即將送出：' + resultText);
            document.getElementById('real-form').submit();
        }

        // 4. 初始化：進入網頁時預設顯示「主食」
        document.addEventListener("DOMContentLoaded", function() {
            const firstTab = document.querySelector('.tab');
            switchTab(firstTab, 'staple');
        });
    </script>
</body>
</html>